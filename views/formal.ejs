<main>
  <div class="plantbed">
    <%_ files.forEach(function(file) { _%>
    <div class="item">
      <%_ if (file.type === 'directory') { _%>
      <h3><a href="<%= file.path %>"><%= file.name %></a> (<%= file.contents %>)</h3>
      <%_ } else if (file.type === 'image') { _%>
      <h3><a href="<%= file.path %>"><%= file.name %></a> (<%= file.size %>)</h3>
      <a href="<%= file.path %>">
        <img src="<%= file.path %>" alt="<%= file.name %>" width="<%= file.width %>" height="<%= file.height %>">
      </a>
      <%_ } else if (file.type === 'video') { _%>
      <h3><a href="<%= file.path %>"><%= file.name %></a> (<%= file.size %>)</h3>
      <video width="<%= file.width %>" height="<%= file.height %>" controls>
        <source src="<%= file.path %>"> <!-- TODO: add type -->
        Your browser does not support the video tag.
      </video>
      <%_ } else if (file.type === 'audio') { _%>
      <h3><a href="<%= file.path %>"><%= file.name %></a> (<%= file.size %>)</h3>
      <audio controls>
        <source src="<%= file.path %>"> <!-- TODO: add type -->
        Your browser does not support the audio tag.
      </audio>
      <%_ } else if (file.type === 'text') { _%>
      <h3><a href="<%= file.path %>"><%= file.name %></a></h3>
      <%_ if (file.contents) { _%>
      <pre><%= file.contents %></pre>
      <%_ } _%>
      <%_ } else if (file.type === 'markdown') { _%>
      <h3><a href="<%= file.path %>"><%= file.name %></a> (<%= file.size %>)</h3>
      <div class="md">
        <%- file.contents _%>
      </div>
      <%_ } else if (file.type === 'raw') { _%>
      <h3><%= file.name %></h3>
      <%_ if (file.contents) { _%>
      <pre><%= file.contents %></pre>
      <%_ } _%>
      <%_ } else if (file.type === 'other') { _%>
      <h3><a href="<%= file.path %>"><%= file.name %></a> (<%= file.size %>)</h3>
      <%_ } _%>
    </div>
    <%_ }) _%>
  </div>
</main>
